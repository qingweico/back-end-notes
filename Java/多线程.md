# ç›®å½•

[TOC]

## <font style="color:purple">å¤šçº¿ç¨‹</font>

### è¿›ç¨‹

æ¯ä¸ªè¿›ç¨‹æ˜¯ä¸€ä¸ªåº”ç”¨ç¨‹åº,è¿›ç¨‹ä¸è¿›ç¨‹ä¹‹é—´çš„å†…å­˜æ˜¯ç‹¬ç«‹çš„

å¤šè¿›ç¨‹çš„ä½œç”¨ï¼šæé«˜CPUçš„ä½¿ç”¨ç‡

### çº¿ç¨‹

çº¿ç¨‹æ˜¯ä¸€ä¸ªè¿›ç¨‹ä¸­çš„æ‰§è¡Œåœºæ™¯,ä¸€ä¸ªè¿›ç¨‹å¯ä»¥å¯åŠ¨å¤šä¸ªçº¿ç¨‹

å¤šçº¿ç¨‹çš„ä½œç”¨ï¼šæé«˜åº”ç”¨ç¨‹åºçš„ä½¿ç”¨ç‡

çº¿ç¨‹ä¸çº¿ç¨‹ä¹‹é—´å…±äº«å †å†…å­˜å’Œæ–¹æ³•åŒºå†…å­˜,ä¸å…±äº«æ ˆå†…å­˜,ä¸€ä¸ªçº¿ç¨‹ä¸€ä¸ªæ ˆ

### javaç¨‹åºè¿è¡ŒåŸç†

javaå‘½ä»¤è¿è¡Œå­—èŠ‚ç æ–‡ä»¶æ—¶ä¼šå¯åŠ¨JVM,æ­¤æ—¶JVMå°±æ˜¯ä¸€ä¸ªè¿›ç¨‹,è¯¥è¿›ç¨‹ä¼šè‡ªåŠ¨å¯åŠ¨ä¸€ä¸ªä¸»çº¿ç¨‹,å»è°ƒç”¨æŸä¸ªç±»çš„mainæ–¹æ³•,æ‰€ä»¥mainæ–¹æ³•æ˜¯è¿è¡Œåœ¨ä¸»çº¿ç¨‹ä¸­

```java
public class ThreadTest{
    public static void main(String[] agrs){
        m1();
    }
    public static void m1(){
        m2();
    }
    public static void m2(){
        m3();
    }
    public static void m3(){
        System.out.println("m3...");
    }
}
```

![1590666180910](https://cdn.qingweico.cn/blog/5ef3019b14195aa594c41c66.png)

### javaå®ç°å¤šçº¿ç¨‹çš„ä¸¤ç§æ–¹å¼

#### 1.ç»§æ‰¿Threadç±»,é‡å†™runæ–¹æ³•,å†ä½¿ç”¨startæ–¹æ³•å¯åŠ¨çº¿ç¨‹

#### 2.å®ç°Runnableæ¥å£,é‡å†™runæ–¹æ³•,åˆ›å»ºThreadç±»çš„å¯¹è±¡,å†åˆ›å»ºå®ç°Runnableæ¥å£çš„ç±»çš„å¯¹è±¡,å°†ä¹‹ä½œä¸ºThreadç±»å¯¹è±¡çš„æ„é€ å‡½æ•°çš„å‚æ•°,å†ä½¿ç”¨startæ–¹æ³•å¯åŠ¨çº¿ç¨‹

```java
package thread;
class B implements Runnable {
    public void run() {
        System.out.println("B");
    }
}
class A extends Thread {
    public void run() {
        System.out.println("A");
        Thread t = new Thread(new B());
        t.start();
    }
}
public class Thread_Java {
    public static void  main(String[] args){
        A a = new A();
        a.start();//ï¼¡ã€€ï¼¢
    }
}
```

![1590669680789](https://cdn.qingweico.cn/blog/5ef3019b14195aa594c41c68.png)

### start()æ–¹æ³•å’Œrunæ–¹æ³•çš„åŒºåˆ«

- start()å¯åŠ¨çº¿ç¨‹,å¹¶è‡ªåŠ¨è°ƒç”¨runæ–¹æ³•,è€Œrunæ–¹æ³•åªæ˜¯ä¸€ä¸ªæ™®é€šçš„æ–¹æ³•,å¹¶ä¸ä¼šå¯åŠ¨æ–°çš„çº¿ç¨‹
- ä¸åŒçš„å¯¹è±¡å¯ä»¥å¤šæ¬¡è°ƒç”¨runæ–¹æ³•,åŒä¸€ä¸ªå¯¹è±¡ä¹Ÿå¯ä»¥è°ƒç”¨å¤šæ¬¡runæ–¹æ³•,ä½†æ˜¯startæ–¹æ³•å¯¹äºåŒä¸€ä¸ªå¯¹è±¡åªèƒ½è°ƒç”¨ä¸€æ¬¡,å³çº¿ç¨‹åªèƒ½å¯åŠ¨ä¸€æ¬¡

### çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ

- æ–°å»º       åˆ›å»ºçº¿ç¨‹å¯¹è±¡ è°ƒç”¨startæ–¹æ³•
- å°±ç»ª       æœ‰æ‰§è¡Œèµ„æ ¼ä½†æ²¡æœ‰æ‰§è¡Œæƒ    æŠ¢åˆ°CPUçš„æ—¶é—´ç‰‡å°±ä¼šè¿›å…¥è¿è¡ŒçŠ¶æ€
- è¿è¡Œ      æœ‰æ‰§æ€§èµ„æ ¼ä¹Ÿæœ‰æ‰§è¡Œæƒ    
  - è¢«å…¶ä»–çº¿ç¨‹æŠ¢åˆ°CPUçš„æ—¶é—´ç‰‡ä¾¿ä¼šè¿›å…¥å°±ç»ªçŠ¶æ€ 
  - è°ƒç”¨sleep()æˆ–è€…wait()æ–¹æ³•ä»è€Œè¿›å…¥çº¿ç¨‹é˜»å¡é˜¶æ®µ 
  - æ‰§è¡Œstop()æˆ–è€…æ˜¯interrupt()æˆ–è€…run() æ–¹æ³• çº¿ç¨‹è¿›å…¥æ­»äº¡çŠ¶æ€
- é˜»å¡        æ²¡æœ‰æ‰§è¡Œèµ„æ ¼ä¹Ÿæ²¡æœ‰æ‰§è¡Œæƒ  sleep()æ—¶é—´åˆ°å°±ä¼šè¿›å…¥å°±ç»ªçŠ¶æ€ è°ƒç”¨notify() å’ŒnotifyAll() æ–¹æ³•
- æ­»äº¡        çº¿ç¨‹å¯¹è±¡å˜æˆåƒåœ¾

![1586694840763](https://cdn.qingweico.cn/blog/5ea6ab97c2a9a83be5655461.png)

### çº¿ç¨‹çš„è°ƒåº¦å’Œæ§åˆ¶

çº¿ç¨‹è°ƒåº¦åˆ†ä¸ºåˆ†æ—¶è°ƒåº¦(å¹³å‡åˆ†é…)å’ŒæŠ¢å å¼è°ƒåº¦

javaé‡‡ç”¨çš„çš„æŠ¢å å¼è°ƒåº¦æ¨¡å‹,è°ä¼˜å…ˆçº§é«˜å…ˆæ‰§è¡Œè°,é»˜è®¤ä¼˜å…ˆçº§éƒ½ä¸º5,æœ€é«˜ä¼˜å…ˆçº§ä¸º10,æœ€ä½ä¸º1

```java
Thread t = Thread.currentThread();
t.getName();            // è·å–å½“å‰çº¿ç¨‹çš„åç§°
t.setName(string name); // è®¾ç½®å½“å‰çº¿ç¨‹çš„åç§°
```

```java
public class ThreadPriority extends Thread{
    public static void main(String[] args){
       ThreadPriority  mt1 = new ThreadPriority();
        mt1.getPriority(); // è·å–å½“å‰çº¿ç¨‹çš„ä¼˜å…ˆçº§
        mt1.setPriority(); // è®¾ç½®å½“å‰çº¿ç¨‹çš„ä¼˜å…ˆçº§
    }
}
```

### çº¿ç¨‹çš„ç¡çœ (é™æ€æ–¹æ³•)

Thread.sleep

### çº¿ç¨‹çš„ä¸­æ–­ï¼ˆéé™æ€æ–¹æ³•ï¼‰

interrupté å¼‚å¸¸å¤„ç†å”¤é†’çº¿ç¨‹

### çº¿ç¨‹çš„ç¤¼è®©ï¼ˆéé™æ€æ–¹æ³•ï¼‰

yield()ç¤¼è®©çº¿ç¨‹,æš‚åœå½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹å¯¹è±¡, å¹¶æ‰§è¡Œå…¶ä»–çº¿ç¨‹

```java
package thread;
public class ThreadYield extends Thread{
    @Override
    public void run(){
        for(int i = 0; i < 5; i++){
            System.out.println(getName() + "-----" + i);
            Thread.yield();
        }
    }
    public static void main(String[] args) {
        Thread mt1 = new ThreadYield();
        Thread mt2 = new ThreadYield();
        mt1.setName("å­”è");
        mt2.setName("æ¢¨");
        mt1.start();
        mt2.start();
    }
}
```

![1590734428221](https://cdn.qingweico.cn/blog/5ef3019b14195aa594c41c6a.png)

### çº¿ç¨‹çš„åˆå¹¶ï¼ˆéé™æ€æ–¹æ³•ï¼‰

```java
package thread;
public class ThreadJoin extends Thread {
    @Override
    public void run() {
        for (int i = 0; i < 10; i++) {
            System.out.println(getName() + "----->" + i);
        }
    }

    public static void main(String[] args) {
        ThreadJoin t = new ThreadJoin();
        t.start();
        try {
            // å°†tçº¿ç¨‹ä¸joinæ‰€å‡ºç°çš„çº¿ç¨‹ï¼ˆmainï¼‰åˆå¹¶,
            // æ­¤æ—¶åªæœ‰ä¸€ä¸ªçº¿ç¨‹,å˜æˆå•çº¿ç¨‹äº†,å½“tçº¿ç¨‹ä¸­çš„
            // runæ–¹æ³•æ‰§è¡Œå®Œæ‰ä¼šæ‰§è¡Œmainæ–¹æ³•ä¸­çš„ä»£ç 
            t.join();
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
        for (int i = 0; i < 10; i++) {
            System.out.println(Thread.currentThread().getName() + "----->" + i);
        }
    }
}
```

### çº¿ç¨‹å‘½å

#### ç»§æ‰¿Threadç±»

```java
public class ThreadNamed extends Thread {
    // å¿…é¡»å®ç°æœ‰å‚æ„é€ æ–¹æ³•
    public ThreadNamed(String name){
        super(name);
    }
    @Override
    public void run(){
        for(int i = 0;i < 10;i++){
            System.out.println(getName() + " -----> " + i);
        }
    }
    public static void main(String[] args) {
//        ThreadNamed t = new ThreadNamed();
//        t.setName("");
//        t.start();             // æ— å‚æ„é€ æ–¹æ³•ç»™çº¿ç¨‹å‘½å
        ThreadNamed t = new ThreadNamed("t");
        t.start();               // æœ‰å‚æ„é€ æ–¹æ³•ç»™çº¿ç¨‹å‘½å
    }
}
```

#### å®ç°Runnableæ¥å£

```java
package thread;
public class ThreadRunnable implements Runnable {
    @Override
    public void run(){
        for(int i = 0;i < 5;i++){
            System.out.println(Thread.currentThread().getName()+"---" + i);
        }
    }
    public static void main(String[] args) {
        // å®ç°Runnableçš„ç±»ä¸ç”¨å®ç°æœ‰å‚æ„é€ æ–¹æ³•
        Thread t = new Thread(new ThreadRunnable(), "t");
        t.start();
    }
}
```

### åŒæ­¥ğŸ”’

- å½“å‰è¿è¡Œç¯å¢ƒæ˜¯å¤šçº¿ç¨‹
- å¤šçº¿ç¨‹ç¯å¢ƒå…±äº«ç›¸åŒçš„æ•°æ®
-  å¤šæ¡è¯­å¥æ“ä½œå…±äº«æ•°æ®

#### è½¬è´¦é—®é¢˜

```java
package thread;
public class AccountTransfer {
    public static void main(String[] args){
        Account account = new Account(5000);
        Processor processor = new Processor(account);
        Thread t1 = new Thread(processor);
        Thread t2 = new Thread(processor);
        t1.start();
        t2.start();
    }
}
class Processor implements Runnable{
    Account account;
    public Processor(Account account){
        this.account = account;
    }
    @Override
    public void run(){
        account.withdraw(1000.0);
        System.out.println("å·²å–èµ°1000.0å…ƒ,è¿˜å‰©" + account.getBalance());
    }
}
class Account
{
    private double balance;
    public Account(double money){
        balance = money;
    }
    public void setBalance(double balance){
        this.balance = balance;
    }
    public double getBalance(){
        return balance;
    }
    public void withdraw(double money){
        synchronized (Account.class){ //this    åŒæ­¥ä»£ç å—
            double after = balance - money;
            try{
                Thread.sleep(1000);
            }catch(InterruptedException e){
                e.printStackTrace();
            }
            this.setBalance(after);
        }
    }
    //åŒæ­¥æ–¹æ³•
     /*public synchronized void withdraw(double money){
            double after = balance - money;
            try{
                Thread.sleep(1000);
            }catch(InterruptedException e){
                e.printStackTrace();
            }
            this.setBalance(after);
        
    }*/
}
```

#### å…³äºsynchronizedçš„é—®é¢˜

##### ï¼ˆå¯¹è±¡é”ï¼‰ 

```java
package test;
public class Test{
    public static void main(String[] args) throws  InterruptedException {
        MyClass mc = new MyClass();
        A a = new A(mc);
        Thread t1 = new Thread(a);
        Thread t2 = new Thread(a);
        t1.setName("t1");
        t2.setName("t2");
        t1.start();
        Thread.sleep(1000);
        t2.start();
    }
}
class A implements Runnable{
    MyClass mc;
    public A(MyClass mc){
        this.mc = mc;
    }
    @Override
    public void run() {
        if(Thread.currentThread().getName().equals("t1")){
            mc.m1();
        }
        else if(Thread.currentThread().getName().equals("t2")){
            mc.m2();
        }
    }
}
class MyClass{
    public synchronized void m1(){
        try {
            Thread.sleep(5000);
        }catch (InterruptedException e){
            e.printStackTrace();
        }
        System.out.println("m1...");
    }
    public void m2(){
        System.out.println("m2...");
    }
   /* public synchronized void m2(){
        System.out.println("m2....");
    }*/
}
```

- å½“m2æ–¹æ³•ä¸åŠ synchronizedæ—¶,m2æ–¹æ³•çš„æ‰§è¡Œä¸ä¼šç­‰å¾…m1,t1.start() æ‰§è¡Œ ,å¯åŠ¨t1çº¿ç¨‹æ‰§è¡Œm1æ–¹æ³•,å³ä¼‘çœ 5ç§’åè¾“å‡ºm1...,æ­¤æ—¶ä¸»çº¿ç¨‹ä¼‘çœ ä¸€ç§’ä¹‹åæ‰§è¡Œt2.start() æ‰§è¡Œ,å¼€å¯t2çº¿ç¨‹,mainæ–¹æ³•æ ˆå¼¹ç©º,ä¸»çº¿ç¨‹ç»“æŸ,çº¿ç¨‹t2åˆ›å»ºåç«‹å³æ‰§è¡Œm2æ–¹æ³•,è¾“å‡ºm2...,t2çº¿ç¨‹æ ˆå¼¹ç©º,t2çº¿ç¨‹ç»“æŸã€‚4ç§’ä¹‹å,t1çº¿ç¨‹ä¸­çš„runæ–¹æ³•æ‰§è¡Œç»“æŸ,æ ˆå¼¹ç©º,t1çº¿ç¨‹ç»“æŸã€‚è¾“å‡ºï¼š1ç§’åè¾“å‡ºm2...,4ç§’åè¾“å‡ºm1...,ä¸€å…±æ‰§è¡Œ5ç§’
- å½“m2æ–¹æ³•åŠ synchronizedæ—¶,å³çº¿ç¨‹t2å¼€å¯æ—¶,t1çº¿ç¨‹æ‹¿åˆ°MyClasså¯¹è±¡çš„çº¿ç¨‹é”å¹¶ä¸”å¤„äºä¼‘çœ çŠ¶æ€,è€Œt2çº¿ç¨‹è¦æƒ³æ‰§è¡Œm2æ–¹æ³•éœ€è¦MyClassçš„å¯¹è±¡é”å³,æ‰€ä»¥t2çº¿ç¨‹åªèƒ½ç­‰å¾…t1çº¿ç¨‹4ç§’ç»“æŸåå½’è¿˜å¯¹è±¡é”ã€‚è¾“å‡ºï¼š5ç§’åè¾“å‡ºm1...,m2...
- ä¸»çº¿ç¨‹ä¸­Thread.sleep(1000)çš„ä½œç”¨ï¼šä¸ºäº†è®©t1çº¿ç¨‹ä¸€å®šå…ˆæ‰§è¡Œ(è¿™ç§åŠæ³•ä¸æ¨è)ã€‚å¦‚æœä¸åŠ ,t1çº¿ç¨‹å’Œt2çº¿ç¨‹ä¼šåŒæ—¶å¼€å¯,ä¸èƒ½ä¿è¯t1å’Œt2è°å…ˆæ‰§è¡Œ,å½“åŠ å…¥Thread.sleep(1000)æ—¶,ä¸»çº¿ç¨‹ä¼šä¼‘çœ 1ç§’å³1ç§’å†…ä¸ä¼šå†æ‰§è¡ŒThread.sleep()åé¢çš„ä»»ä½•ä»£ç ,t2çº¿ç¨‹ä¸ä¼šå¼€å¯,ç¡®ä¿t1çº¿ç¨‹æŠ¢åˆ°CPUçš„æ—¶é—´ç‰‡
- å½“t1å’Œt2çº¿ç¨‹å…±äº«åŒä¸€ä¸ªå¯¹è±¡æ—¶æ‰ä¼šå‡ºç°ç›¸äº’ç­‰å¾…çš„ç°è±¡

##### ï¼ˆç±»é”ï¼‰

```java
package  test;
public class Test{
    public static void main(String[] args) throws  InterruptedException {
        MyClass mc1 = new MyClass();
        MyClass mc2 = new MyClass();
        A a1 = new A(mc1);
        A a2 = new A(mc2);
        Thread t1 = new Thread(a1);
        Thread t2 = new Thread(a2);
        t1.setName("t1");
        t2.setName("t2");
        t1.start();
        Thread.sleep(1000);
        t2.start();
    }
}
class A  implements Runnable{
    MyClass mc;
    public A(MyClass mc){
        this.mc = mc;
    }
    @Override
    public void run() {
        if(Thread.currentThread().getName().equals("t1")){
            mc.m1();// MyClass.m1();
        }
        else if(Thread.currentThread().getName().equals("t2")){
            mc.m2();// MyClass.m2();
        }
    }
}
class MyClass{
    public synchronized static void m1(){
        try {
            Thread.sleep(5000);
        }catch (InterruptedException e){
            e.printStackTrace();
        }
        System.out.println("m1.....");
    }
    public synchronized static void m2(){
        System.out.println("m2....");
    }
}
```

ä¸å¯¹è±¡é”ä¸åŒçš„æ˜¯å½“ä½¿ç”¨ç±»é”æ—¶æ–¹æ³•è¦åŠ static,ä¸”ç±»é”åªæœ‰1æŠŠ,å½“è°ƒç”¨å¤šä¸ªå¯¹è±¡æ—¶,ä»ç„¶ä¼šå‡ºç°ç­‰å¾…ç°è±¡

### æ­»é”

æ­»é”å°±æ˜¯ä¸¤ä¸ªåŠä¸¤ä¸ªä»¥ä¸Šçš„çº¿ç¨‹åœ¨äº‰å¤ºèµ„æºçš„è¿‡ç¨‹ä¸­ç›¸äº’ç­‰å¾…çš„ç°è±¡

```java
package thread;
public class DeadLock extends Thread{
    private static final Object objA = new Object();
    private static final Object objB = new Object();
    private boolean flag;
    public DiedLock(boolean flag){
        this.flag = flag;
    }
    @Override
    public void run() {
        if(flag){
            synchronized (objA){
                System.out.println("objA...");
                synchronized (objB){
                    System.out.println("objB...");
                }
            }
        }
        else {
            synchronized (objB){
                System.out.println("objB...");
                synchronized (objA){
                    System.out.println("objA...");
                }
            }
        }
    }
    public static void main(String[] args) {
        DeadLock d1 = new DeadLock(true);
        DeadLock d2 = new DeadLock(false);
        d1.start();
        d2.start();
    }
}
```

### å®ˆæŠ¤çº¿ç¨‹

çº¿ç¨‹åŒ…æ‹¬ç”¨æˆ·çº¿ç¨‹å’Œå®ˆæŠ¤çº¿ç¨‹ 

ä¸€èˆ¬å®ˆæŠ¤çº¿ç¨‹ä¼šæ— é™è¿è¡Œ,è€Œå½“æ‰€æœ‰çš„ç”¨æˆ·çº¿ç¨‹ç»“æŸå,å®ˆæŠ¤çº¿ç¨‹ä¹Ÿä¼šç»“æŸ å½“JVMå¯åŠ¨æ—¶,é™¤äº†å¼€å¯ä¸»çº¿ç¨‹å¤–,è¿˜æœ‰å®ˆæŠ¤è¿›ç¨‹ï¼ˆGCï¼‰,å½“æ­£åœ¨è¿è¡Œçš„ç¨‹åºéƒ½æ˜¯å®ˆæŠ¤çº¿ç¨‹æ—¶,JVMé€€å‡º

```java
package thread;
public class ThreadDaemon extends Thread {
    @Override
    public void run(){
        int i = 0;
       while(true) {
           System.out.println(getName() + "----->" + i);
           i++;
           try {
               Thread.sleep(1000);
           }catch (InterruptedException e){
               e.printStackTrace();
           }
       }
    }
    public static void main(String[] args) throws  InterruptedException{
       ThreadDaemon t = new ThreadDaemon();
        t.setName("t1");
        // è®¾ç½®å®ˆæŠ¤çº¿ç¨‹
        // å½“ä¸»çº¿ç¨‹ç»“æŸæ—¶,å®ˆæŠ¤è¿›ç¨‹ä¹Ÿä¼šç»“æŸ
        t.setDaemon(true);
        t.start();
        for(int i = 0;i < 5;i++){
            System.out.println(ThreadDaemon.currentThread().getName() + " ---> "+i);
            Thread.sleep(1000);
        }
    }
}
```

### å®šæ—¶å™¨

```java
package thread;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.Timer;
import java.util.TimerTask;
public class ThreadTimer {
    public static void main(String[] args){
        Timer t = new Timer();
        t.schedule(new TimerTask(){
            @Override
            public void run(){
                // æ¯éš”ä¸€ç§’è¾“å‡ºç³»ç»Ÿæ—¶é—´
                System.out.println(new SimpleDateFormat("yyyy-MM-dd HH:mm:ss").format(new Date()));
                // t.cancel();
            }
        },new Date(),1000);
    }
}
```

### çº¿ç¨‹æ± 

çº¿ç¨‹æ± é‡Œçš„ä»£ç ç»“æŸåå¹¶ä¸ä¼šæ­»äº¡,è€Œæ˜¯å›åˆ°çº¿ç¨‹æ± ä¸­æˆä¸ºç©ºé—²çŠ¶æ€,ç­‰å¾…ä¸‹ä¸€ä¸ªå¯¹è±¡æ¥ä½¿ç”¨

```java
package thread;
import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;
public class ThreadPool implements Runnable {
    @Override
    public void run() {
        for(int i = 0;i < 5;i++){
            System.out.println(Thread.currentThread().getName() + " ------> " + i);
        }
    }
    public static void main(String[] args) {
        ThreadPool mr = new ThreadPool();
        // ---------- åˆ›å»ºçº¿ç¨‹æ± å¯¹è±¡ -----------
        ExecutorService  pool = Executors.newFixedThreadPool(5);
        // ---------- æäº¤ä»£ç  ----------
        pool.submit(mr);
        pool.submit(mr);
        // ---------- é‡Šæ”¾ ----------
        pool.shutdown();
    }
}
```

### åŒ¿åå†…éƒ¨ç±»å¼€å¯å¤šçº¿ç¨‹

```java
package thread;
public class Thread_Anonymity {
   public static void main(String[] args) {
        new Thread(new Runnable() {
           @Override
           public void run() {
              for(int i = 0;i < 5;i++) {
                 System.out.println("Hello" + i);
                 }
           }
           }) {
         @Override
         public void run() {
            for (int i = 0; i < 5; i++) {
               System.out.println("World" + i);
            }
         }
      }.start();
   }
}
```

### å¹¶å‘

```java
package thread;
import java.util.concurrent.Callable;
import java.util.concurrent.ExecutionException;
import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;
import java.util.concurrent.Future;
public class ThreadConcurrent implements Callable<Integer> {
    private  final int number;
    public ThreadConcurrent(int number){
        this.number = number;
    }
    @Override
    public Integer call() {
        int sum = 0;
        for (int i = 0;i < number;i++){
            sum += i;
        }
        return sum;
    }
    public static void main(String[] args) throws InterruptedException, ExecutionException {
        // ThreadConcurrent my = new ThreadConcurrent(2);
        //  ---------- åˆ›å»ºçº¿ç¨‹æ± å¯¹è±¡ ----------
        ExecutorService pool= Executors.newFixedThreadPool(5);
        //  ---------- æäº¤ä»£ç  ----------
        Future<Integer> f1 = pool.submit(new ThreadConcurrent(5));
        Future<Integer> f2 = pool.submit(new ThreadConcurrent(50));
        Future<Integer> f3 = pool.submit(new ThreadConcurrent(500));
        
        Integer i1 = f1.get();
        Integer i2 = f2.get();
        Integer i3 = f3.get();
        
        
        System.out.println(i1);
        System.out.println(i2);
        System.out.println(i3);
        // ---------- é‡Šæ”¾ ----------
        pool.shutdown();
    }
}
```