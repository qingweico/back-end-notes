# HTTP

[TOC]

## 媒体类型

 **英特网上有千种不同的数据类型,HTTP仔细地给每种要通过Web传输的对象打上名为MIME的数据格式标签**

MIME(Multipurpose Internet Mail Extension) 多用途英特网邮件扩展 

MIME类型是一种文本标记,标记一种主要的对象类型和一个特定的子类型,中间由一条斜杠分开 

- HTML格式的文本文档由text/html类型来表标记
- 普通的ASCII文本文档由text/plain来标记 
- JPEG版本的图片为image/jpeg类型 
- GIF版本的图片为image/gif类型   

## URI(Uniform Resource Identifier) 统一资源标识符（包括URL和URN）

- URL（Unifrom Resource Locator）   统一资源定位符   
- URN(Unoform Resouce Name)           统一资源名  

***（现在 几乎所有的URI都是URL）***

## HTTP事务 

HTTP事务是由一条(客户端发往服务器)请求命令和一个(从服务器发回客户端)响应结果组成,而这种通信是通过名为***HTTP报文***的格式化数据块进行的   

**报文包括命令和URI**

## HTTP方法

| HTTP方法 | 描述                                               |
| -------- | :------------------------------------------------- |
| GET      | 从服务器向客户端发送命名资源                       |
| PUT      | 将来自客户端的数据出储存到一个命名的服务器资源中去 |
| DELETE   | DELETE 从服务器中删除命名资源                      |
| POST     | POST 将而客户端数据发送到一个服务器网关应用程序    |
| HEAD     | HEAD 仅发送命名资源响应中的首部                    |

## 一些常见的HTTP状态码

| HTTP状态码 | 描述                                   |
| ---------- | -------------------------------------- |
| 200        | OK 文档正确返回                        |
| 302        | Redirect（重定向）到其他地方去获取资源 |
| 404        | Not Found 无法找到这个资源             |

从Web客户端发往Web服务器的HTTP报文称为请求报文(request message)

从服务器发往客户端的报文称为响应报文(request message) 

除上述两种报文之外没有其他类型的HTTP报文 

## HTTP报文

- 起始行 
- 首部字段 
- 主体 

*HTTP是应用层协议。HTTP无需担心网络通信的具体细节；它把联网的细节都交给了通用,可靠的因特网传输协议TCP/IP*

## TCP

- 无差错的数据传输 
- 按序传输(数据总是按照发送的顺序到达)
- 为分段的数据流(可以在任意时刻以任意尺寸将数据发送出去)

| 层数 |                    |            |
| ---- | ------------------ | ---------- |
| 1    | HTTP               | 应用层     |
| 2    | TCP                | 传输层     |
| 3    | IP                 | 网络层     |
| 4    | 网络特有的链路接口 | 数据链路层 |
| 5    | 物理网络硬件       | 物理层     |

应用层包括应用层,表示层和会话层

数据链路层和物理层统称为网络接口层

------

在HTTP客户端向服务器发送报文之前,需要使用网际协议(Internet Protocol  IP) 地址和端口号在客户端和服务端之间建立一条TCP/IP连线

## 协议版本

- ***HTTP/0.9***  

  HTTP的1991原型版本称为HTTP/0.9 这个协议有很多的严重的设计缺陷,只应该用于与老客户端的交互。其只支持GET方法,不支持多媒体内容的MIME类型和各种HTTP首部或者版本号。其初衷是为了获取简单的HTML对象,它很快被HTTP/1.0取代了 

- ***HTTP/1.0***    1.0是第一个得到广泛使用的HTTP版本。HTTP/1.0添加了版本号和各种HTTP首部,一些额外的方法以及对多媒体对象的处理。HTTP10使得包含生动图片的Web页面和交互式表格成为可能,而这些页面和表格促使万维网被人们普遍的接受。这个规范1从未得到良好的说明。在这个HTTP协议的商业演进和学术研究都在快速进行的时代,它集合了一系列的最佳实践。 

- ***HTTP/1.0+*** 在20世纪90年代中叶,各种流行的Web客户端和服务器都在飞快地向HTTP中添加各种特性,以便满足快速扩张且在商业上十分成功的万维网的需要。其中很多特性,包括持久的keep-alive连接,虚拟主机支持,以及代理连接支持都被加入到HTTP之中,并成为非官方的事实标准。这种非正式的HTTP扩展版本通常被称为HTTP/1.0+ 

- ***HTTP/1.1*** HTTP/1.1重点关注的是校正HTTP设计中的结构缺陷,明确语义,引入重要的性能优化措施,并删除一些不好的特性。HTTP/11还包含了对20世纪九十年代末正在发展中更复杂的Web应用程序和部署方式的支持。HTTP/1.1是当前使用的版本 

- ***HTTP-NG (HTTP/2.0)*** 是1.1后继结构1的原型建议,它关注的是性能的大幅度优化,以及更为强大的服务逻辑执行框架。它的研究工作终止于1998年 

## Web结构组件

- ***代理*** 是Web安全,应用集成以及性能优化的重要组成模块 其位于客户端和服务器之间,接受所有客户端的HTTP请求,并将这些请求转发给服务器 
- ***缓存*** Web cache  保存常用的文档本地副本以提高性能
- ***网关*** geteway 是一种特殊的服务器,作为其他服务器的中间实体使用,可以将HTTP流量转化为其他的协议   
- ***隧道*** (tunnel) 隧道建立起来之后,就会在两条连线之间对原始数据进行盲转发的HTTP应用程序

-----------



​           